<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>booking Multi-step Form Page</title>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="/userManagement/css/bookcargo.css">
</head>
<body>
<!-- partial:index.partial.html -->
<!-- MultiStep Form -->
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <form action="/customer/book-cargo" method="POST"id="msform">
            <!-- progressbar -->
            <ul id="progressbar" class="progressbar">
                <li class="active">Senders & <br> Recevers Details</li>
                <li>Cargo details</li>
                <li>Shipment Method</li>
            </ul>
            <!-- fieldsets -->
            <fieldset>
                <h2 class="fs-title">Senders and Recevers Details</h2>
                <h3 class="fs-subtitle">Tell us something more about you</h3>
                <h4>Senders Information</h4>
                <div class="sender">
                    <div class="sendersinfo"><input placeholder="Sender's Name" name="sender_name" type="text" tabindex="1" required autofocus>
                    </div>
                    <div class="sendersinfo"><input placeholder="Company Name" name="company1" type="text" tabindex="1" required autofocus></div>
                    <div class="sendersinfo"><input placeholder="Pickup Address" name="pickup_address" type="text" tabindex="1" required autofocus></div>
                    <div class="sendersinfo"><input placeholder="Sender's Email" name="sender_email" type="text" tabindex="1" required autofocus></div>
                    <div class="sendersinfo"><input placeholder="Phone no of Sender" name="sender_number" type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required></div>
                </div>
                <h4>Receivers Information</h4>
                <div class="receiver">
                    <input placeholder="Full Name" name="receiver_name" type="text" tabindex="1" required autofocus>
                    <input placeholder="Company Name" name="company2" type="text" tabindex="1" required autofocus>
                    <input placeholder="Delivery Address" name="delivery_address" type="text" tabindex="1" required autofocus>
                    <input placeholder="Email Address" name="receiver_email" type="text" tabindex="1" required autofocus>
                    <input placeholder="012-345-6789"type="tel" name="receiver_number" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
                </div>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Cargo Details</h2>
                <h3 class="fs-subtitle">Your presence on the social network</h3>

                <label for="product_type">Product Type: </label>
                <select id="product_type" name="product_type">
                    <option value=""></option>
                    <option value="Furniture">Furniture</option>
                    <option value="Clothes">Clothes</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Industrial Equipments">Industrial Equipments</option>
                    <option value="Raw Materials">Raw Materials</option>
                    <option value="Food and Beverages">Food and Beverages</option>
                    <option value="Medicines">Medicines</option>
                    <option value="Agricultural Products">Agricultural Products</option>
                </select>

                <div id="genderSizeFields" style="display: none;">
                    <label for="gender">Select Gender:</label>
                    <select id="gender" name="gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="mixed">Mixed</option>
                    </select>

                    <label for="size">Select Size:</label>
                    <select id="size" name="size">
                        <option value="small">Small</option>
                        <option value="medium">Medium</option>
                        <option value="large">Large</option>
                    </select>
                </div>
                
                <label for="package_type">Package Type: </label>
                <select id="package_type" name="package_type">
                    <option value="Box">Box</option>
                    <option value="Parcel">Parcel</option>
                </select>
                <br>
                <label for="cargo-size">Cargo Size (in cubic meters):</label>
                <input type="number" id="cargo-size" name="cargo_size">

                <label for="cargo-weight">Cargo Weight (in kilograms):</label>
                <input type="number" id="cargo-weight" name="cargo_weight">

                <label for="cargo-dimensions">Cargo Dimensions (in meters):</label>
                <input type="text" id="cargo-dimensions" name="cargo_dimension">

                <label for="quantity">Quantity of Items:</label>
                <input type="number" id="quantity" name="quantity">
                
                <label for="hazardous-material">Hazardous Material (if applicable):</label>
                <input type="checkbox" id="hazardous-material" name="hazardous_material">
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Shipment Method</h2>
                <h3 class="fs-subtitle">Fill in your credentials</h3>
                <label for="shipment-method">Shipment Method:</label>
                <select id="shipment-method" name="shipment_method">
                    <option value="ground">Ground Transportation</option>
                    <option value="air">Air Freight</option>
                    <option value="sea">Sea Freight</option>
                </select>
        
                <label for="service-level">Service Level:</label>
                <select id="service-level" name="service_level">
                    <option value="express">Express</option>
                    <option value="standard">Standard</option>
                </select>
                <br>
                <label for="sender_location">From (county)</label>
                    <select id="from_county" name="from_county">
                        <option value="Baringo">Baringo</option>
                        <option value="Bomet">Bomet</option>
                        <option value="Bungoma">Bungoma</option>
                        <option value="Busia">Busia</option>
                        <option value="Elgeyo-Marakwet">Elgeyo-Marakwet</option>
                        <option value="Embu">Embu</option>
                        <option value="Garissa">Garissa</option>
                        <option value="Homa Bay">Homa Bay</option>
                        <option value="Isiolo">Isiolo</option>
                        <option value="Kajiado">Kajiado</option>
                        <option value="Kakamega">Kakamega</option>
                        <option value="Kericho">Kericho</option>
                        <option value="Kiambu">Kiambu</option>
                        <option value="Kilifi">Kilifi</option>
                        <option value="Kirinyaga">Kirinyaga</option>
                        <option value="Kisii">Kisii</option>
                        <option value="Kisumu">Kisumu</option>
                        <option value="Kitui">Kitui</option>
                        <option value="Kwale">Kwale</option>
                        <option value="Laikipia">Laikipia</option>
                        <option value="Lamu">Lamu</option>
                        <option value="Machakos">Machakos</option>
                        <option value="Makueni">Makueni</option>
                        <option value="Mandera">Mandera</option>
                        <option value="Marsabit">Marsabit</option>
                        <option value="Meru">Meru</option>
                        <option value="Migori">Migori</option>
                        <option value="Mombasa">Mombasa</option>
                        <option value="Murang'a">Murang'a</option>
                        <option value="Nairobi">Nairobi</option>
                        <option value="Nakuru">Nakuru</option>
                        <option value="Nandi">Nandi</option>
                        <option value="Narok">Narok</option>
                        <option value="Nyamira">Nyamira</option>
                        <option value="Nyandarua">Nyandarua</option>
                        <option value="Nyeri">Nyeri</option>
                        <option value="Samburu">Samburu</option>
                        <option value="Siaya">Siaya</option>
                        <option value="Taita-Taveta">Taita-Taveta</option>
                        <option value="Tana River">Tana River</option>
                        <option value="Tharaka-Nithi">Tharaka-Nithi</option>
                        <option value="Trans-Nzoia">Trans-Nzoia</option>
                        <option value="Turkana">Turkana</option>
                        <option value="Uasin Gishu">Uasin Gishu</option>
                        <option value="Vihiga">Vihiga</option>
                        <option value="Wajir">Wajir</option>
                        <option value="West Pokot">West Pokot</option>
                    </select><br>
                    <label for="reciever_location">To (County)</label>
                    <select id="to_county" name="to_county">
                        <option value="Baringo">Baringo</option>
                        <option value="Bomet">Bomet</option>
                        <option value="Bungoma">Bungoma</option>
                        <option value="Busia">Busia</option>
                        <option value="Elgeyo-Marakwet">Elgeyo-Marakwet</option>
                        <option value="Embu">Embu</option>
                        <option value="Garissa">Garissa</option>
                        <option value="Homa Bay">Homa Bay</option>
                        <option value="Isiolo">Isiolo</option>
                        <option value="Kajiado">Kajiado</option>
                        <option value="Kakamega">Kakamega</option>
                        <option value="Kericho">Kericho</option>
                        <option value="Kiambu">Kiambu</option>
                        <option value="Kilifi">Kilifi</option>
                        <option value="Kirinyaga">Kirinyaga</option>
                        <option value="Kisii">Kisii</option>
                        <option value="Kisumu">Kisumu</option>
                        <option value="Kitui">Kitui</option>
                        <option value="Kwale">Kwale</option>
                        <option value="Laikipia">Laikipia</option>
                        <option value="Lamu">Lamu</option>
                        <option value="Machakos">Machakos</option>
                        <option value="Makueni">Makueni</option>
                        <option value="Mandera">Mandera</option>
                        <option value="Marsabit">Marsabit</option>
                        <option value="Meru">Meru</option>
                        <option value="Migori">Migori</option>
                        <option value="Mombasa">Mombasa</option>
                        <option value="Murang'a">Murang'a</option>
                        <option value="Nairobi">Nairobi</option>
                        <option value="Nakuru">Nakuru</option>
                        <option value="Nandi">Nandi</option>
                        <option value="Narok">Narok</option>
                        <option value="Nyamira">Nyamira</option>
                        <option value="Nyandarua">Nyandarua</option>
                        <option value="Nyeri">Nyeri</option>
                        <option value="Samburu">Samburu</option>
                        <option value="Siaya">Siaya</option>
                        <option value="Taita-Taveta">Taita-Taveta</option>
                        <option value="Tana River">Tana River</option>
                        <option value="Tharaka-Nithi">Tharaka-Nithi</option>
                        <option value="Trans-Nzoia">Trans-Nzoia</option>
                        <option value="Turkana">Turkana</option>
                        <option value="Uasin Gishu">Uasin Gishu</option>
                        <option value="Vihiga">Vihiga</option>
                        <option value="Wajir">Wajir</option>
                        <option value="West Pokot">West Pokot</option>
                    </select>
                    <label for="departureTime">Departure Time:</label>
                    <input type="datetime-local" id="departureTime" name="departure_time">
                
                    <label for="arrivalTime">Arrival Time:</label>
                    <input type="datetime-local" id="arrivalTime" name="arrival_time" readonly>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="submit" name="submit" class="submit action-button" value="Submit"/>
            </fieldset>
            
        </form>
    </div>
</div>
<!-- /.MultiStep Form -->
<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<script  src="/userManagement/script.js"></script>

<script>
    //jQuery time
var current_fs, next_fs, previous_fs; //fieldsets
var left, opacity, scale; //fieldset properties which we will animate
var animating; //flag to prevent quick multi-click glitches

$(".next").click(function(){
	if(animating) return false;
	animating = true;
	
	current_fs = $(this).parent();
	next_fs = $(this).parent().next();
	
	//activate next step on progressbar using the index of next_fs
	$("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
	
	//show the next fieldset
	next_fs.show(); 
	//hide the current fieldset with style
	current_fs.animate({opacity: 0}, {
		step: function(now, mx) {
			//as the opacity of current_fs reduces to 0 - stored in "now"
			//1. scale current_fs down to 80%
			scale = 1 - (1 - now) * 0.2;
			//2. bring next_fs from the right(50%)
			left = (now * 50)+"%";
			//3. increase opacity of next_fs to 1 as it moves in
			opacity = 1 - now;
			current_fs.css({
        'transform': 'scale('+scale+')',/*
        'left': '530px',*/
        'position': 'absolute',
      });
			next_fs.css({/*'left': '530px',*/'position': 'absolute', 'opacity': opacity});
		}, 
		duration: 1500, 
		complete: function(){
			current_fs.hide();
			animating = false;
		}, 
		//this comes from the custom easing plugin
		easing: 'easeInOutBack'
	});
});

$(".previous").click(function(){
	if(animating) return false;
	animating = true;
	
	current_fs = $(this).parent();
	previous_fs = $(this).parent().prev();
	
	//de-activate current step on progressbar
	$("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
	
	//show the previous fieldset
	previous_fs.show(); 
	//hide the current fieldset with style
	current_fs.animate({opacity: 0}, {
		step: function(now, mx) {
			//as the opacity of current_fs reduces to 0 - stored in "now"
			//1. scale previous_fs from 80% to 100%
			scale = 0.8 + (1 - now) * 0.2;
			//2. take current_fs to the right(50%) - from 0%
			left = ((1-now) * 50)+"%";
			//3. increase opacity of previous_fs to 1 as it moves in
			opacity = 1 - now;
        current_fs.css({/*'left': '530px', */'position': 'absolute'});
			previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
		}, 
		duration: 1500, 
		complete: function(){
			current_fs.hide();
			animating = false;
		}, 
		//this comes from the custom easing plugin
		easing: 'easeInOutBack'
	});
});


//shipment methods
function submitForm() {
    const shipmentMethod = document.getElementById("shipment-method").value;
    const serviceLevel = document.getElementById("service-level").value;
    const departureDate = document.getElementById("departure-date").value;
    const arrivalDate = document.getElementById("arrival-date").value;

    const result = document.getElementById("result");
    result.innerHTML = `
        Shipment Method: ${shipmentMethod}<br>
        Service Level: ${serviceLevel}<br>
        Departure Date: ${departureDate}<br>
        Arrival Date: ${arrivalDate}
    `;
}

//clothes
// Add an event listener to the product type select input
document.getElementById("product_type").addEventListener("change", function () {
	const selectedProductType = this.value;
	const genderSizeFields = document.getElementById("genderSizeFields");

	// Show the gender and size fields if "Clothes" is selected, otherwise hide them
	if (selectedProductType === "Clothes") {
		genderSizeFields.style.display = "block";
	} else {
		genderSizeFields.style.display = "none";
	}
});

//arrival n departure time

// Function to calculate arrival time based on departure time
function calculateArrivalTime() {
	const departureTimeInput = document.getElementById("departureTime");
	const arrivalTimeInput = document.getElementById("arrivalTime");

	// Get the departure time value
	const departureTime = new Date(departureTimeInput.value);

	// Calculate the arrival time by adding 4 days (30 * 24 * 60 * 60 * 1000 milliseconds) to the departure time
	const arrivalTime = new Date(departureTime.getTime() + 4 * 24 * 60 * 60 * 1000);

	// Format the arrival time as a string for input
	const arrivalTimeString = arrivalTime.toISOString().slice(0, 16);

	// Update the arrival time input field
	arrivalTimeInput.value = arrivalTimeString;
}

// Add an event listener to the departure time input
document.getElementById("departureTime").addEventListener("change", calculateArrivalTime);

</script>
</body>
</html>